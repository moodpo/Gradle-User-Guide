Chapter 2. 概述
===================

## 2.1. 特性

下面列出了一些 Gradle 的特性：

**声明式构建，按约定构建**

Gradle 的核心是对基于 Groovy 的领域专用语言（DSL）的丰富扩展。Gradle 通过提供可根据喜好自由组装的声明式元素将声明式构建推向新的水平。这些元素也对 Java，Groovy，OSGi，Web 和 Scala 项目提供按约构建支持。甚至这些语言自身也是可扩展的。你可以添加自己新元素或改善现有的，从而实现简洁，可维护和易于理解的构建。

**基于依赖的程序语言设计**

声明式语言位于通用任务图形的顶部，因此你可以充分利用你的构建。它提供了极大的灵活性，使 Gradle 适配到你特殊的需求中。

**结构化构建**

Gradle 的柔性和丰富性允许你使用一般性设计原则来构建项目。例如，从可重用的构建逻辑组件中组装你的构建是非常容易的。本就内联的东西在那里不必要的迂回是没有必要的。也不要强行分离它们之间的归属关系（例如在你的项目层级中）。避免产生如猎枪气味似的变化和存在分歧的变更导致你的构建进入维护的噩梦。在最后你将创建一个结构良好，易于维护，容易理解的构建。
 
**深层次的 API**

许多钩子被嵌入到 Gradle 构建执行的整个生命周期中，这已然成为一种乐趣，从这一点来说，你可以监视和配置它的非常核心的执行行为。

**可伸缩性**

Gradle 伸缩性良好。它会提高你的生产力，从简单的单项目构建到庞大的企业级多项目构建。这是真正的结构化构建。用最先进的增量构建方式，使许多大型的企业级构建原理遭受性能的苦难。

**多项目构建**

Gradle 在多项目的构建支持上非常出色。项目依赖被作为一等公民，她允许你在多项目构建中模拟项目关系，它们都处于你的问题领域中。Gradle 跟踪你的布局而不是相反。

Gradle 提供了局部构建。如果你要编译了一个独立子项目，Gradle 只关心所有子项目之间的依赖。你也可以选择重构依赖特定子项目的子项目。这对于大型构建来说都将节省很多时间。

**多种方式管理依赖**

不同的团队喜欢不同的管理外部依赖的方式。Gradle 对所有这些策略提供了便利的支持，包括从远程 Maven 和 Ivy 库的过渡依赖管理到 jar 包或本地文件系统目录。

**Gradle 是第一个构建集成工具**

Ant 任务是一等公民。更有趣的是，Ant 的项目也都是一等公民。Gradle 提供深入的引用给任何 Ant 项目，在运行时，可以转换 Ant 目标到原生的 Gradle 任务。你可以直接使用，修改，甚至在 `build.xml` 文件中新增依赖。属性，路径等等也都提供了相同的集成。

Gradle 全面支持对现有的 Maven 或 Ivy 仓库的依赖发布和检索。Gradle 还提供了一个转换器，可以将 Maven 的 `pom.xml` 转成 Gradle 脚本。Maven 项目的运行时倒入将非常迅速。

**易迁移**

Gradle 可以适配任何已有结构中。因此，你可以在同样的生产分支中编写 Gradle 构建，它们能够并行演变。我们通常建议编写测试代码来确保产品化的项目是相似的。这种迁移方式只有很小的破坏性，并尽可能保持其可靠性。之后就是通过最佳实践的方式像婴儿学步般一步一步进行重构。

**Groovy 语言**

Gradle 的构建脚本使用 Groovy，而不是 XML。但是不像其他的方式那样，这不是简单地将动态语言的原始脚本能力进行简单的揭示。这将只会导致困难构建维护。Gradle 的整个设计趋向于作为一种语言来使用，而不是严格的框架。并且 Groovy 是一剂胶水，允许你使用抽象了的 Gradle 来编写你的特定逻辑。Gradle 提供了一些标准的逻辑，但它们并不做任何形式的限制。


这只会导致一个保持非常困难的构建。工具的总体设计是面向的是将 Gradle 作为一种语言，而不是一个严格的框架。工具提供了一些标准的故事，但他们不做任何形式的限制。这是一个 Gradle 主要特性，区别于其他声明式构建系统。对于 Groovy 的支持不只是外表。整个 Gradle API 都是 Groovy 化的。加入 Groovy 的结果是一次愉悦的和富有成效的体验。

**Gradle wrapper**

Gradle Wrapper 可以在没有安装 Gradle 的机器上执行 Gradle 构建。这对于一些连续继承服务来说很有用。对于一个需要保持低阻碍构建过程的开源项目来说也是有用的。Gradle Wrapper 对于企业也非常友好。她是一种对客户机进行零管理的途径。她也会对一个特定的 Gradle 版本强制执行一些用例以减少支持问题。

**免费开源**

Gradle 是一个开源项目，遵守[ASL](http://www.gradle.org/license)开源协议。
 
## 2.2. 为何选择 Groovy

我们认为选择一种内置的领域专用语言（DSL，基于动态语言）而不是 XML 作为构建脚本的优势是巨大的。有一系列的动态语言可供选择，为何是 Groovy 呢？答案就在 Gradle 上下文操作中。虽然 Gradle 的核心是一个通用构建工具，但是她的主要关注点仍然是 Java 项目。在这样的项目中，团队成员对 Java 都比较熟悉。我们认为一个构建工具应改对项目中的所有成员要尽可能的透明。

在这种情况下，你可能会说，为什么不直接使用 Java 作为构建脚本的语言呢？这是一个好问题！这样对团队来说将会最为透明，学习曲线最低，但是由于 Java 语言的限制性，这样的一种构建语言将不会是漂亮的、富裕表现的和强有力的，而她本应如此。像 Python，Groovy 或者 Ruby 更适合使用在这种领域。我们选择 Groovy 是因为它提供了距今为止对使用 Java 人群的最大的透明度。它的基本语法，类系统，包结构以及其它的东西都和和 Java 的相同。在此基础之上 Groovy 提供了更多的其他内容，但是它们的共同基础仍然是 Java。

对于那些有 Python 或者 Ruby 知识，抑或有意学习这些脚本语言的 Java 开发者来说，上述论点不适用。Gradle 被设计为适合创建另一个 JRuby 或者 Jython 构建脚本引擎。对于我们来说它只是暂时不具有最高的优先级罢了。我们乐于支持任何社区花费精力去创建额外的构建脚本引擎。